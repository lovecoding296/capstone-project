<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title th:text="#{logo}"></title>


	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<!-- Bootstrap Bundle with Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>



	<script src="script.js"></script>
	<style>
		
		body {
		  overflow-x: hidden;
		}


		/* styles.css */
		.custom-header {
			background-color: #007bff;
			color: white;
			padding: 20px;
			height: 100vh;
		}

		.tour-card {
			background: #f8f9fa;
			padding: 20px;
			margin: 10px;
			border-radius: 8px;
			text-align: center;
			box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
		}

		#userDropdown::after {
			content: none;
		}

		.navbar-nav {
			gap: 15px;
		}

		.nav-item a.nav-link {
			text-align: center;
			padding: 10px 15px !important;
			align-items: center;
			transition: background-color 0.5s ease;
			border-radius: 25px;
			color: white;
			text-decoration: none;
			font-size: 16px;
		}

		.nav-item a.nav-link:hover {
			background-color: rgba(255, 255, 255, 0.3);
			cursor: pointer;
		}

		#userPopup a {
			color: black;
			padding: 10px;
			cursor: pointer;
			border-left: 4px solid transparent;
			transition: border-left 0.5s ease;
			text-decoration: none;
		}

		#userPopup a:hover {
			border-left: 4px solid #1abc9c;
		}
	</style>


</head>

<body>
	<!-- Navbar -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
		<div class="container">
			<a class="navbar-brand" href="/" th:text="#{logo}">Tour Booking</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
				aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="languageDropdown" role="button"
							data-bs-toggle="dropdown" aria-expanded="false">
							<img id="selected-flag" th:src="@{'/images/icons/flags/' + ${#locale.language} + '.svg'}"
								style="width: 20px;height: 20px;">
							<span id="selected-language" th:text="${#locale.language.toUpperCase()}"></span>
						</a>
						<ul class="dropdown-menu" aria-labelledby="languageDropdown">
							<!--<li><a class="dropdown-item" href="#">EN</a></li>-->
							<th:block th:with="languages=${'en,vn'.split(',')}">
								<li th:each="lang : ${languages}" th:if="${#locale.language != lang}">
									<a class="dropdown-item" th:attr="onclick='changeLanguage(\'' + ${lang} + '\')'"
										style="cursor: pointer;">
										<img th:src="@{'/images/icons/flags/' + ${lang} + '.svg'}"
											th:alt="${lang.toUpperCase()}" style="width: 20px;height: 20px;">
										<span th:text="${lang.toUpperCase()}"></span>
									</a>
								</li>
							</th:block>
						</ul>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/tours" th:text="#{findtour}"></a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/tours/create" sec:authorize="hasRole('ROLE_TOUR_GUIDE')">Táº¡o Tour</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/become-a-guide" th:text="#{becomeAGuide}"></a>
					</li>
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
							data-bs-toggle="dropdown" aria-expanded="false">
							<svg th:replace="~{icons :: user}"></svg>
						</a>
						<ul sec:authorize="isAnonymous()" class="dropdown-menu" aria-labelledby="userDropdown"
							id="userPopup">
							<li>
								<a class="dropdown-item" href="/signup" th:text="#{signup}"></a>
							</li>
							<li>
								<a class="dropdown-item" href="/login" th:text="#{login}"></a>
							</li>
						</ul>
						<ul sec:authorize="!isAnonymous()" class="dropdown-menu" aria-labelledby="userDropdown"
							id="userPopup">
							<li>
								<a class="dropdown-item" href="/profile">Account</a>
							</li>
							<li>
								<a class="dropdown-item" href="/logout">Log out</a>
							</li>
						</ul>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	<div class=".container-fluid">
		<header class="row">
			<div class="col-12 text-center custom-header">
				<h1>Welcome to Our Tours</h1>
			</div>
		</header>
	</div>

	<section class="container">
		<div class="row">
			<div th:replace="~{icons :: destination}"></div>
			<h1 class="text-center" th:text="#{destination}"></h1>
			<div class="col-md-3">
				<div class="tour-card">Tour 1</div>
			</div>
			<div class="col-md-3">
				<div class="tour-card">Tour 2</div>
			</div>
			<div class="col-md-3">
				<div class="tour-card">Tour 3</div>
			</div>
			<div class="col-md-3">
				<div class="tour-card">Tour 4</div>
			</div>
		</div>
	</section>

	<section class="container">
		<div class="row">
			<div th:replace="~{icons :: person}"></div>
			<h1 class="text-center" th:text="#{meetYourGuides}"></h1>
			<div class="col-md-3">
				<div class="tour-card">Tour 1</div>
			</div>
			<div class="col-md-3">
				<div class="tour-card">Tour 2</div>
			</div>
			<div class="col-md-3">
				<div class="tour-card">Tour 3</div>
			</div>
			<div class="col-md-3">
				<div class="tour-card">Tour 4</div>
			</div>
		</div>
	</section>

	<section class=".container-fluid">
		<div class="row">
			<div th:replace="~{icons :: explore}"></div>
			<h1 class="text-center" th:text="#{exploreWithUs}"></h1>

			<div class="col-12 text-centerr position-relative">
				<img style="width: 100%; height: 600px; object-fit: cover;" src="images/status/tour-guide.webp">
				<div class="position-absolute top-50 start-50 translate-middle text-white">
					<div class="sologan text-center">
						<h1 th:text="#{sologan3a}"></h1>
						<p><em th:text="#{sologan3b}"></em></p>
						<div class="stats text-center">
							<span th:text="#{travellersServed}"></span><span>100</span>
							<span th:text="#{guides}"></span><span>20</span>
						</div>
					</div>

				</div>
			</div>
		</div>

	</section>

	<section class="container">
		<div class="row">
			<div th:replace="~{icons :: comment}"></div>
			<h1 class="text-center" th:text="#{whatTravellersSay}"></h1>

			<div class="col-md-4">
				<div class="tour-card">Tour 1</div>
			</div>
			<div class="col-md-4">
				<div class="tour-card">Tour 2</div>
			</div>
			<div class="col-md-4">
				<div class="tour-card">Tour 3</div>
			</div>
			<div class="row">
	</section>


	<script>
		function changeLanguage(lang) {
			let url = new URL(window.location.href); // Get current URL
			url.searchParams.set('lang', lang); // Set or update 'lang' parameter
			window.location.href = url.toString(); // Redirect to new URL
		}
	</script>

</body>

</html>