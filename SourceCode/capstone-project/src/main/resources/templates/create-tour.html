<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Create Tour</title>
    <!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">-->
	<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
	<title th:text="#{signup}">Đăng ký</title>
	<link rel="stylesheet" href="/styles.css">
	<script src="script.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	
    <script>
        function createTour(event) {
            event.preventDefault();
            let tour = {
                title: document.getElementById("title").value,
                description: document.getElementById("description").value,
                price: document.getElementById("price").value,
                location: document.getElementById("location").value,
                startDate: document.getElementById("startDate").value,
                endDate: document.getElementById("endDate").value,
                thumbnail0: document.getElementById("thumbnail0").value
            };

            fetch("/api/tours", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(tour)
            })
            .then(response => response.json())
            .then(data => {
                alert("Tour created successfully!");
                window.location.href = "/tours";
            })
            .catch(error => console.error("Error:", error));
        }
    </script>
</head>
<body class="container mt-5">
	<div th:replace="~{components :: header}"></div>
	
	
    <h2>Create a New Tour</h2>

    <form onsubmit="createTour(event)">
        <div class="mb-3">
            <label class="form-label">Title</label>
            <input type="text" id="title" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Description</label>
            <textarea id="description" class="form-control" required></textarea>
        </div>

        <div class="mb-3">
            <label class="form-label">Price ($)</label>
            <input type="number" id="price" class="form-control" step="0.01" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Location</label>
            <input type="text" id="location" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Start Date</label>
            <input type="date" id="startDate" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">End Date</label>
            <input type="date" id="endDate" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Thumbnail URL</label>
            <input type="url" id="thumbnail0" class="form-control" required>
        </div>

        <button type="submit" class="btn btn-primary">Create Tour</button>
    </form>
	
	<div th:replace="~{components :: footer}"></div>
</body>
</html>
